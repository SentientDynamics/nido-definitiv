{
	"name": "TimesheetDataFlow",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "TimesheetJson",
						"type": "DatasetReference"
					},
					"name": "TimesheetReport"
				}
			],
			"sinks": [
				{
					"dataset": {
						"referenceName": "Timesheet_sql",
						"type": "DatasetReference"
					},
					"name": "WritetoSQLDB"
				}
			],
			"transformations": [],
			"scriptLines": [
				"source(output(",
				"          timesheetId as string,",
				"          employeeId as string,",
				"          employeeName as string,",
				"          projectId as string,",
				"          positionId as string,",
				"          positionName as string,",
				"          projectApprovalWorkflow as string[],",
				"          projectName as string,",
				"          projectWorkOrderId as string,",
				"          workOrderName as string,",
				"          roleId as string,",
				"          roleName as string,",
				"          departmentId as string,",
				"          departmentName as string,",
				"          locationId as string,",
				"          locationName as string,",
				"          shiftTypeId as string,",
				"          shiftTypeName as string,",
				"          date as string,",
				"          useTime as boolean,",
				"          durationHours as string,",
				"          employeeSpecifiedDurationHours as string,",
				"          startTimeOfDay as string,",
				"          employeeSpecifiedStartTimeOfDay as string,",
				"          endTimeOfDay as string,",
				"          employeeSpecifiedEndTimeOfDay as string,",
				"          timePeriodAlerts as string[],",
				"          breaks as (description as string, startTimeOfDay as string, employeeSpecifiedStartTimeOfDay as string, endTimeOfDay as string, employeeSpecifiedEndTimeOfDay as string, durationHours as string, employeeSpecifiedDurationHours as string)[],",
				"          tasks as string[],",
				"          workOrderTasks as string[],",
				"          assets as string[],",
				"          notes as string,",
				"          timePeriodMode as string,",
				"          status as string,",
				"          approvals as string[],",
				"          publicHolidayWorked as string,",
				"          timeClockEvents as string[],",
				"          customFields as (customFieldId as string, targetEntity as integer, dataType as string, value as string, name as string, displayName as string, description as string, enabled as boolean, global as boolean, options as string[], isMandatory as boolean, order as integer, dateDriven as boolean, timeBased as boolean, displayOnTimesheetSummary as boolean, preventMultipleEntries as boolean, timePeriodMode as string, inheritTimesheetPeriod as string, customFieldDisplayStatus as string)[],",
				"          totalBreakHours as double,",
				"          totalWorkedHours as double,",
				"          allowEditing as boolean,",
				"          submittedDateTime as string,",
				"          lastUpdated as string",
				"     ),",
				"     allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     ignoreNoFilesFound: false,",
				"     documentForm: 'documentPerLine') ~> TimesheetReport",
				"TimesheetReport sink(allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     deletable:false,",
				"     insertable:true,",
				"     updateable:false,",
				"     upsertable:false,",
				"     truncate:true,",
				"     format: 'table',",
				"     skipDuplicateMapInputs: true,",
				"     skipDuplicateMapOutputs: true,",
				"     errorHandlingOption: 'stopOnFirstError',",
				"     mapColumn(",
				"          timesheetId,",
				"          employeeId,",
				"          employeeName,",
				"          projectId,",
				"          positionId,",
				"          positionName,",
				"          projectName,",
				"          projectWorkOrderId,",
				"          workOrderName,",
				"          roleId,",
				"          roleName,",
				"          departmentId,",
				"          departmentName,",
				"          locationId,",
				"          locationName,",
				"          shiftTypeId,",
				"          shiftTypeName,",
				"          date,",
				"          useTime,",
				"          durationHours,",
				"          employeeSpecifiedDurationHours,",
				"          startTimeOfDay,",
				"          employeeSpecifiedStartTimeOfDay,",
				"          endTimeOfDay,",
				"          employeeSpecifiedEndTimeOfDay,",
				"          notes,",
				"          timePeriodMode,",
				"          status,",
				"          publicHolidayWorked,",
				"          totalBreakHours,",
				"          totalWorkedHours,",
				"          allowEditing,",
				"          submittedDateTime,",
				"          lastUpdated",
				"     )) ~> WritetoSQLDB"
			]
		}
	}
}