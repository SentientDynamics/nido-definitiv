{
	"name": "df_B1_OrgPayItems_ApiToDefinitiv_copy1",
	"properties": {
		"folder": {
			"name": "09_PayItems"
		},
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "ds_adls2_stnidoprodeastau100_json_output",
						"type": "DatasetReference"
					},
					"name": "SourceBlobDefinitivPayslips"
				}
			],
			"sinks": [
				{
					"dataset": {
						"referenceName": "ds_sql_tnk001",
						"type": "DatasetReference"
					},
					"name": "SinkSqlDefinitivPayslips",
					"rejectedDataLinkedService": {
						"referenceName": "ls_adls2_stnidoprodeastau100",
						"type": "LinkedServiceReference"
					}
				}
			],
			"transformations": [
				{
					"name": "SelectBlobDefinitivPayslips"
				}
			],
			"script": "source(output(\n\t\t{Org.LegalName} as string,\n\t\t{Org.OrganizationId} as string,\n\t\t{OrgPayItem.PipelineName} as string,\n\t\t{OrgPayItem.PipelineRunId} as string,\n\t\t{OrgPayItem.PipelineTriggerTime} as string,\n\t\tatoCategory as string,\n\t\tcategory as string,\n\t\tcostingStrategy as string,\n\t\tcustomFields as (customFieldDisplayStatus as string, dataType as string, dateDriven as boolean, description as string, displayName as string, displayOnTimesheetSummary as boolean, enabled as boolean, global as boolean, inheritTimesheetPeriod as string, isMandatory as boolean, name as string, order as boolean, preventMultipleEntries as boolean, targetEntity as boolean, timeBased as boolean, timePeriodMode as string, value as integer),\n\t\tdeductionBankAccount as (accountName as string, accountNumber as string, bsb as string, reference as string),\n\t\tdeletedByUserId as string,\n\t\tdeletedTime as string,\n\t\tdescription as string,\n\t\texportCode as string,\n\t\tglCreditCode as integer,\n\t\tglDebitCode as integer,\n\t\thidden as boolean,\n\t\tincludeInSalaryAndWages as boolean,\n\t\tincludeInTotalPackage as boolean,\n\t\tisContractor as boolean,\n\t\tisForeign as boolean,\n\t\tisPercentage as boolean,\n\t\tisSuperable as boolean,\n\t\tisSystem as boolean,\n\t\tisTaxable as boolean,\n\t\tonlyProcessWhenOtherEarningsExist as boolean,\n\t\torganizationId as string,\n\t\tpayItemId as string,\n\t\tpayslipDisplayName as string,\n\t\trollupMode as string,\n\t\tshowOnPayslip as boolean,\n\t\tspecialTaxRate as string,\n\t\tsuperStreamContributionCategory as string,\n\t\tthirdPartyPaymentEnabled as boolean,\n\t\ttype as string,\n\t\tunitOfMeasureId as string\n\t),\n\tallowSchemaDrift: false,\n\tvalidateSchema: true,\n\tignoreNoFilesFound: false,\n\trowUrlColumn: 'SourceFileName',\n\tdocumentForm: 'documentPerLine') ~> SourceBlobDefinitivPayslips\nSourceBlobDefinitivPayslips select(mapColumn(\n\t\tLegalName = {Org.LegalName},\n\t\tOrganizationId = {Org.OrganizationId},\n\t\tPipelineName = {OrgPayItem.PipelineName},\n\t\tPipelineRunId = {OrgPayItem.PipelineRunId},\n\t\tPipelineTriggerTime = {OrgPayItem.PipelineTriggerTime},\n\t\tatoCategory,\n\t\tcategory,\n\t\tcostingStrategy,\n\t\tcustomFields,\n\t\tdeductionBankAccount,\n\t\tdeletedByUserId,\n\t\tdeletedTime,\n\t\tdescription,\n\t\texportCode,\n\t\tglCreditCode,\n\t\tglDebitCode,\n\t\thidden,\n\t\tincludeInSalaryAndWages,\n\t\tincludeInTotalPackage,\n\t\tisContractor,\n\t\tisForeign,\n\t\tisPercentage,\n\t\tisSuperable,\n\t\tisSystem,\n\t\tisTaxable,\n\t\tonlyProcessWhenOtherEarningsExist,\n\t\torganizationId,\n\t\tpayItemId,\n\t\tpayslipDisplayName,\n\t\trollupMode,\n\t\tshowOnPayslip,\n\t\tspecialTaxRate,\n\t\tsuperStreamContributionCategory,\n\t\tthirdPartyPaymentEnabled,\n\t\ttype,\n\t\tunitOfMeasureId,\n\t\tSourceFileName\n\t),\n\tskipDuplicateMapInputs: false,\n\tskipDuplicateMapOutputs: true) ~> SelectBlobDefinitivPayslips\nSelectBlobDefinitivPayslips sink(allowSchemaDrift: true,\n\tvalidateSchema: true,\n\tdeletable:false,\n\tinsertable:true,\n\tupdateable:false,\n\tupsertable:false,\n\tformat: 'table',\n\tskipDuplicateMapOutputs: true,\n\terrorHandlingOption: 'allErrors',\n\toutputRejectedData: true,\n\trejectedData_fileSystem: 'container-adf-nido-prod-eastau-100-1',\n\trejectedData_folderPath: (\"ds_adls2_stnidoprodeastau100_log\"),\n\ttransactionCommit: 'batch',\n\treportSuccessOnError: false,\n\tmapColumn(\n\t\tLegalName,\n\t\tOrganizationId = SelectBlobDefinitivPayslips@OrganizationId,\n\t\tPipelineName,\n\t\tPipelineRunId,\n\t\tPipelineTriggerTime,\n\t\tatoCategory,\n\t\tcategory,\n\t\tcostingStrategy,\n\t\tdeletedByUserId,\n\t\tdeletedTime,\n\t\tdescription,\n\t\texportCode,\n\t\tglCreditCode,\n\t\tglDebitCode,\n\t\thidden,\n\t\tincludeInSalaryAndWages,\n\t\tincludeInTotalPackage,\n\t\tisContractor,\n\t\tisForeign,\n\t\tisPercentage,\n\t\tisSuperable,\n\t\tisSystem,\n\t\tisTaxable,\n\t\tonlyProcessWhenOtherEarningsExist,\n\t\torganizationId = SelectBlobDefinitivPayslips@organizationId,\n\t\tpayItemId,\n\t\tpayslipDisplayName,\n\t\trollupMode,\n\t\tshowOnPayslip,\n\t\tspecialTaxRate,\n\t\tsuperStreamContributionCategory,\n\t\tthirdPartyPaymentEnabled,\n\t\ttype,\n\t\tunitOfMeasureId,\n\t\tSourceFileName\n\t)) ~> SinkSqlDefinitivPayslips"
		}
	}
}